<!DOCTYPE html>
<html>
<title>CCC: Lesson 18</title>
<META NAME="COPYRIGHT" CONTENT="&copy; Ria Stroes">
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
<META name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3-theme-pink.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/p5.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/addons/p5.dom.min.js" type="text/javascript"></script>
<script src="http://www.w3schools.com/lib/w3data.js"></script>
<script src="../mylib/Google.js" type="text/javascript"></script>
<style>
.w3-sidenav a {padding:16px;}
</style>
<body>
  <div w3-include-html="menu.html"></div>
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" id="myOverlay"></div>
<div class="w3-main" style="margin-left:250px;">
<div id="myTop" class="w3-top w3-container w3-padding-16 w3-theme w3-large">
  <i class="fa fa-bars w3-opennav w3-hide-large w3-xlarge w3-margin-left w3-margin-right" onclick="w3_open()"></i>
  <span id="myIntro" class="w3-hide">Creative Coding Course in P5</span>
</div>

<header class="w3-container w3-theme w3-padding-64" style="padding-left:16px">
  <h1 class="w3-xxxlarge w3-padding-16">Creative Coding Course</h1>
  <h2 class="w3-large">Lesson 18: Functions</h2>
</header>

<div class="w3-container" >

  <div class="w3-row">
    <div class="w3-twothird w3-container">
      <div class="w3-container">
        <br/>
      <p>
      By now your code will grow larger and it's time to learn to organize your code.
      A function is a block of code designed to perform a particular task.

      </p>
        <h2 class="w3-theme-l2 w3-center">Functions</h2>
        <p>We have seen already a lot of functions, like setup, draw, ellipse, etc.<br/>
           These functions are part of the p5 library. So you already know how to call a function.<br/>
           Now you will learn how to define a function:
          <pre>
            function <i>functionname</i>( <i>param1, param2, ...</i>){
              ...
              return value;
            }
          </pre>
          A function should<br/>
          - have a descriptive name, this makes your code easer to read. <br/>
          - execute a clear task, this makes your code comprehensible.<br/>
          - be reuseble by use of params, this makes your code flexible.<br/><br/>

          Give your functions a descriptive name<br/>
          Example: function drawAnimal(image, position);<br/>
          This function should draw an animal on a position.<br/>
          This function should draw the hole animal, not a part.<br/>
          This function can draw animals on different positions.<br/><br/>

          If you develop your own functions, you can add them in your script after the draw function or you can create your own library in a seperate .js file.<br/>
          Include your own library in your main html page and you can call your own functions in different animations.<br/>

          <pre>
              //save your file with javascript functions as functions.js
              //create a submap 'mylibrary' in the root of your project.
              //insert inside the heading of your index.html:
             &lt;script&gt; src="mylibrary/myfunctions.js" type="text/javascript">&lt;/script&gt;
          </pre>

          A function can have a return value.<br/>
          The result of function is stored in a variable<br/>
          For example:<br/>

          <pre>
          //definition<br/>
          function sum(a,b){
            //this function will add the values, stored in the two params.
            return a+b;
          }

          //call function<br/>
          var c = sum(a,b);<br/>
          </pre>
          But not all functions have a return value, the setup function and the draw function are examples of functions that execute a specific task,
          but as you can see, they don't have a return function.<br/>
          The function sum is a very simple function and not so smart, but functions can be very powerfull and can include many lines of codes.<br/>
          <pre>
          Be smart and write your code only once! Create Functions!
          </pre>

        </p>
          Let's create a smart function.<br/>
          In this function an image will be saved, with my copyright sign on it.<br/>
          If you want to save a image from your animation, be careful, if you call the save function of p5 in the
       draw function. It will attempt to save an image in every loop, so that can be 60 times a second.
      That's why it is smart to build your own safe save function.
          <pre>
            p5:
            save(filename);
          <pre>
          <pre>

          </pre>
            Let's create a function to save an image of your animantion.


        </div>
    </div>
   <div class="w3-third w3-container">

      <ul class="w3-ul">
        <li><h2>You will learn</h2></li>
        <li>Functions</li>
        <li>Parameters</li>
        <li>return</li>
        <li>library</li>


      </ul>
    </div>
  </div>

  <div class="w3-row  w3-theme-light ">
      <div class="w3-container w3-half">
      <pre>

  var x,y;
  var u;
  function setup() {
    createCanvas(windowWidth, windowHeight);
    background(0,200,0);
    u = 1;
  }

  function safeSave(filename){
    if(frameCount % 100 == 0){
      //filename use frameCount as sequence number.

      var name = filename  + frameCount + ".png";

      //copyright in the right-bottom-corner.
      fill(0);
      text("©riastroes2017", width-100, height-20);
        save(filename);
      }
  }
  function draw(){
        fill(random(255);
        ellipse(mouseX, mouseY, 100);
        safeSave("animation");
      }



      </pre>
      </div>
      <div class="w3-half w3-container">
        <div class="w3-example">

          <br/>
          <div id="divcanvas1">
            <script>
            var s2 = function( p ) {
            var x,y,u;

            p.setup = function() {
              var canvas = p.createCanvas(400,320);
              canvas.parent("divcanvas1");
              p.background(0,200,0);
              x = 200;
              y = 0;
              u =20;

            }

            p.draw = function() {
              p.fill(p.random(255);
              p.ellipse(p.mouseX, p.mouseY, 100);
              p.safeSave("animation");
            }
          };

            p.safeSave = function(filename) {

              if(p.frameCount % 100 == 0){
                //filename use frameCount as sequence number.

                var name = filename  + frameCount + ".png";

                //copyright in the right-bottom-corner.
                p.fill(0);
                p.text("\©riastroes2017", p.width-100, p.height-20);
                p.save(filename);
            }
            };
            var my1 = new p5(s2, 'c1');
            </script>
          </div>
          <p>
            <a href="https://www.openprocessing.org/sketch/394570">open sketch in openprocessing</a>
          </p>

        </div>
      </div>
      </div>
      <div class="w3-row">
        <div class="w3-one w3-container">
          <div class="w3-container">
            <br/>
          <p>
          In the example above there is a shape within a shape.  The eye in the bird is created
          with a beginContour and endContour function. You can use this for inner parts,
          but remember that you have to change the direction of defining the vertexes on the canvas.
          If the shape is defined clockwise than you have to use counter-clockwise direction for the
          vertexes in the contour functions.<br/>
          <pre>
beginShape()
  //define clockwise
  vertex(x,y);
  ...
  beginContour()
    //define counter-clockwise
    vertex(x,y);
    ...
  endContour(CLOSE);
endShape(CLOSE);
</pre>

          tip:<br/>
          Because the image is symetric, I only had to type in half the code.
          I could copy the other bird and only change the sign of the x values.
          And I made a few changes.
          </p>
          <p>
            These two birdshead are also an example how you can use different scenes in your sketch.
            The frameCount variable is a counter for the frames in the loop of the draw function.
            Now I use every second frame to display the open beck and the eye of one bird and the other way
            around with the second bird.
            The modulo operator is giving the rest value after devision.


<pre>
  // you say if framecount modulo two is equal to 0
  if(frameCount % 2 == 0){    // 0 1 0 1 0 1
  }
</pre>
            The result of frameCount % 5 will be 0 1 2 3 4 0 1 2 3 4 0 1 2 3 4 etc.<br/>
            So the modulo operator can help you to construct an repeating pattern in the loop of the draw function.
            With the frameRate function you can slow down your sketch.
          </p>
        </div>
      </div>
    </div>
<div class="w3-row  w3-theme-light ">
<div class="w3-container w3-half">
<pre>
var rabbit,head,littlehead;
function preload(){
  rabbit = loadImage("rabbit.png");
  head = loadImage("head.png");
  littlehead = loadImage("littlehead.png");

}
function setup() {
  createCanvas(400,400);
  background(200);
  imageMode(CENTER);
  frameRate(1);
}

function draw() {
  background(255);
  if(frameCount % 3 == 0){
    image(head, 200,250);
  }
  else if(frameCount % 3 == 1){
    image(head, 200,250);
    image(rabbit, 200,160);
  }
  else if(frameCount % 3 == 2){

    image(rabbit, 200,160);
    image(littlehead, 200,140);
  }
}
  </pre>
  </div>

  <div class="w3-half w3-container">
    <div class="w3-example">

      <br/>
      <div id="divcanvas2">
        <script>
        var s2 = function( p ) {
        var rabbit,head, littlehead;
        p.preload = function() {
          rabbit = p.loadImage("resources/rabbit.png");
          head = p.loadImage("resources/head.png");
          littlehead = p.loadImage("resources/littlehead.png");
        }
        p.setup = function() {
          var canvas = p.createCanvas(400,400);
          canvas.parent("divcanvas2");
          p.background(255);
          p.imageMode(p.CENTER);
          p.frameRate(1);
        }
        p.draw = function() {
          p.background(255);
          if(p.frameCount % 3 == 0){
            p.image(head, 200,250);
          }
          else if(p.frameCount % 3 == 1){
            p.image(head, 200,250);
            p.image(rabbit, 200,160);
          }
          else if(p.frameCount % 3 == 2){

            p.image(rabbit, 200,160);
            p.image(littlehead, 200,140);
          }
       }
      };
        var my1 = new p5(s2, 'c1');
        </script>
      </div>
      <p>
        <a href="https://www.openprocessing.org/sketch/396208">open sketch in openprocessing</a>
      </p>

    </div>
  </div>
</div>
<div class="w3-row">
  <div class="w3-one w3-container">
    <div class="w3-container">
      <br/>
      <p>In the next example I created a pattern with two nested iterations.
        The y is increased by 30 and is iterating from 0 - 400:<br/>
        <pre>0 30 60 60 120 150 180 210 240 270 300 330 360 390 </pre>
         If y = 0 then the x is iterating  from 0 - 400, the x is increased by 50:
        <pre> 0 50 100 150 200 250 300 350 </pre>
        then y = 30 and again the x is iterating from 0 - 400:
        <pre> 0 50 100 150 200 250 300 350 </pre>
        then y = 60 etc.
        The x and y values are used to generate different colors.

    </div>
  </div>
</div>
<div class="w3-row  w3-theme-light ">
<div class="w3-container w3-half">
<pre>
function setup(){
  createCanvas(400,400);
  background(200,180,220);
}
function draw(){
  for(var y = 0; y < height; y += 30){
    for(var x = 0; x < width; x += 50){
      fill(x,y,255);
      beginShape();
        vertex(x,y);
        vertex(x + 50, y);
        vertex(x + 40, y + 30);
        vertex(x + 10, y + 20);
        vertex(x - 20, y + 10);
      endShape(CLOSE);
    }
  }
}
  </pre>
  </div>

  <div class="w3-half w3-container">
    <div class="w3-example">

      <br/>
      <div id="divcanvas3">
        <script>
        var s2 = function( p ) {

        p.setup = function() {
          var canvas = p.createCanvas(400,400);
          canvas.parent("divcanvas3");
          p.background(200,180,220);

        }
        p.draw = function() {
          for(var y = 0; y < p.height; y += 30){
            for(var x = 0; x < p.width; x += 50){
              p.fill(x,y,255)
              p.beginShape();
                p.vertex(x,y);
                p.vertex(x + 50, y);
                p.vertex(x +40, y + 30);
                p.vertex(x + 10, y + 20);
                p.vertex(x - 20, y + 10);
              p.endShape(p.CLOSE);
            }
          }
       }
      };
        var my1 = new p5(s2, 'c1');
        </script>
      </div>
      <p>
        <a href="https://www.openprocessing.org/sketch/396293">open sketch in openprocessing</a>
      </p>

    </div>
  </div>
</div>
<div class="w3-row">
  <div class="w3-one w3-container">
    <div class="w3-container">
      <br/>
      <p>This is an example of a one-line-drawing.<br/>
        Because the first and the last vertexes are fixed, they allways have the same value
        and the dog can move on the line.</p>

    </div>
  </div>
</div>
<div class="w3-row  w3-theme-light ">
<div class="w3-container w3-half">
<pre>
var x,y;
function setup(){
  createCanvas(400,400);
  stroke(0);
  noFill();
  strokeWeight(5);   //use a thick line.
  x = 0;
  y = height/2;
}
function draw(){
  background(200,180,220);
  beginShape();
    vertex(0,height/2);
    vertex(x, y);
    vertex(x, y -100);
    vertex(x + 5, y -100);
    ...
    vertex(x + 10, y -20);
    vertex(x + 10, y);
    vertex(x, y);
    vertex(width,height/2);
  endShape();
  //let's move
  x++;
  if(x>width){
    //start over again.
    x = 0;
  }
}
  </pre>
  </div>

  <div class="w3-half w3-container">
    <div class="w3-example">

      <br/>
      <div id="divcanvas4">
        <script>
        var s2 = function( p ) {
        var x,y;
        p.setup = function() {
          var canvas = p.createCanvas(400,400);
          canvas.parent("divcanvas4");

          p.stroke(0);
          p.noFill();
          p.strokeWeight(5);
          x = 0;
          y = p.height-50;

        }
        p.draw = function() {
          p.background(200,180,220);
          p.beginShape();
            p.vertex(0,p.height-50);
            p.vertex(x, y);
            p.vertex(x, y -100);
            p.vertex(x + 5, y -100);
            p.vertex(x + 5, y -50);
            p.vertex(x + 40, y -50);
            p.vertex(x + 50, y -70);
            p.vertex(x + 55, y -80);
            p.vertex(x + 53, y -70);
            p.vertex(x + 60, y -60);
            p.vertex(x + 70, y -50);
            p.vertex(x + 60, y -40);
            p.vertex(x + 55, y -40);
            p.vertex(x + 55, y );
            p.vertex(x + 45, y );
            p.vertex(x + 45, y -20);
            p.vertex(x + 10, y -20);
            p.vertex(x + 10, y);
            p.vertex(x, y);
            p.vertex(p.width,p.height-50);
          p.endShape();
          //let's move
          x++;
          if(x>p.width){
            //start over again.
            x = 0;
          }
       }
      };
        var my1 = new p5(s2, 'c1');
        </script>
      </div>
      <p>
        <a href="https://www.openprocessing.org/sketch/396864">open sketch in openprocessing</a>
      </p>

    </div>
  </div>
</div>
  <div class="w3-row">
      <div class="w3-one " style="padding:16px">
  <h1  class="w3-theme-l2 w3-center w3-jumbo">Assignments</h1>
  <h3>3. Create a pattern with shapes.</h3>
  <ul class ="w3-ul" >
      <li>A pattern with a nested iteration.</li>
      <li>Create a motif 100  by 100 pixels</li>
      <li>x and y will increase by 100</li>
      <li>You can make the shapes smaller or bigger then the motif.</li>
  </ul>

  <h3>2. Mixed Media</h3>

  <ul class ="w3-ul" >
      <li>Search an image of an object and draw the surrounding area with shapes.</li>
      <li>Example 1: Use a photo of your self and create with shapes a landscape, mountain climbing, swimming in the sea, etc.</li>
      <li>Example 1: Use a photo of a dog and create with shape a monster, that attacks the dog.</li>
      <li>Use an image with a transparent background.</li>
      <li>Don't forget to make a sketch on paper.</li>
  </ul>

  <h3>3. One line drawing.</h3>
  <ul class ="w3-ul" >
      <li>Create a one-line-drawing</li>
      <li>First make a sketch on paper!</li>
  </ul>



<hr>
<p>

Please join my class on OpenProcessing to share your Processing sketches.<br/>
Go to:<a href="https:/www.openprocessing.org/class/55734"> https:/www.openprocessing.org/class/55734</a> and use the code: 30DEEA to join.<br/>
Or publish an image of your sketch on Facebook page <a href="https://www.facebook.com/creativecodingcourse">https://www.facebook.com/creativecodingcourse</a><br/>
It will be an inspiration for other students.<br/>
If you have any question about this lesson, send me an email <a href="mailto:riastroes@gmail.com?subject:lesson12">riastroes@gmail.com</a></p>
</p></div>
</div>

<footer class="w3-container w3-theme-d3 w3-padding-32" style="padding-left:32px">
    <span class="w3-left"><a  href="http://www.riastroes.nl">www.riastroes.nl</a></span><span class="w3-right">copyright &copy; Ria Stroes</span>
</footer>
</div>
<script>
//include HTML
w3IncludeHTML();

// Open and close the sidenav on medium and small screens
function w3_open() {
    document.getElementById("mySidenav").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
}
function w3_close() {
    document.getElementById("mySidenav").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
}

// Change style of top container on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
        document.getElementById("myTop").classList.add("w3-card-4");
        document.getElementById("myIntro").classList.add("w3-show-inline-block");
    } else {
        document.getElementById("myIntro").classList.remove("w3-show-inline-block");
        document.getElementById("myTop").classList.remove("w3-card-4");
    }
}

// Accordions
function myAccordion(id) {
    var x = document.getElementById(id);
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
        x.previousElementSibling.className += " w3-theme";
    } else {
        x.className = x.className.replace("w3-show", "");
        x.previousElementSibling.className =
        x.previousElementSibling.className.replace(" w3-theme", "");
    }
}
</script>

</body>
</html>
